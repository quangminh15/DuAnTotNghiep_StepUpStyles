<!doctype html>
<html xmlns:th="http://www.thymeleaf.org"
	th:fragment="content(view, title)">

<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title th:replace="${title}"></title>
<!-- Template CSS -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
	rel="stylesheet">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="/asset/user/css/style-liberty.css">
<!-- Template CSS -->
<link
	href="//fonts.googleapis.com/css?family=Oswald:300,400,500,600&display=swap"
	rel="stylesheet">
<link
	href="//fonts.googleapis.com/css?family=Lato:300,300i,400,400i,700,900&display=swap"
	rel="stylesheet">
<!-- Template CSS -->
<link
	href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.32/dist/sweetalert2.min.css"
	rel="stylesheet">

<script
	src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js"></script>
<script
	src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>

<!-- angularJS -->
<script
	src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
<script
	src="https://rawgit.com/angular-ui/angular-ui/master/build/angular-ui.js"></script>
<!-- New toolbar-->
<link rel="stylesheet" href="/asset/user/css/style-menu.css">
<script src="//m.servedby-buysellads.com/monetization.js"
	type="text/javascript"></script>
<meta name="robots" content="noindex">
<link rel="stylesheet" href="/asset/user/css/font-awesome.min.css">
<!-- Boostrap ICON -->
<link rel="stylesheet"
	href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
	integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ"
	crossorigin="anonymous">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


<style type="text/css">
/* nút lọc của trang sản phẩm START */
.custom-button-container {
	display: flex;
	justify-content: space-between;
	width: 100%;
}

.custom-button-container button {
	flex: 1;
	margin-right: 5px;
	margin-left: 5px;
}

a:hover, button:hover {
	cursor: pointer;
}
/* nút lọc của trang sản phẩm END */

/* CSS phân trang trang chủ sản phẩm nổi bật Start */
.custom-pagination {
	display: flex;
	justify-content: flex-end;
	margin: 0px 10px 20px;
}

.custom-pagination ul {
	list-style-type: none;
	padding: 0;
	display: flex;
}

.custom-pagination li {
	display: inline;
	margin-right: 10px;
}

.custom-pagination a {
	text-decoration: none;
	padding: 10px 15px;
	border: 1px solid #ccc;
	border-radius: 3px;
	color: orangered;
}

.custom-pagination a:hover {
	background: orangered;
	border-color: orangered;
	color: white;
}

.custom-pagination .custom-active a {
	background: orangered;
	border-color: orangered;
	color: white;
}

.custom-pagination .custom-prev a, .custom-pagination .custom-next a {
	color: orangered;
	border: none;
}

.custom-pagination .custom-prev a:hover, .custom-pagination .custom-next a:hover
	{
	background: none;
	color: black;
	border-color: none;
}

/* CSS phân trang trang chủ sản phẩm nổi bật END */

/* hiện phần trăm giảm giá START*/
.discount-circle {
	position: absolute;
	top: 10px;
	left: 10px;
	width: 45px;
	height: 45px;
	border-radius: 50%;
	background-color: orangered;
	color: #dfdede;
	display: flex;
	justify-content: center;
	align-items: center;
	font-size: 14px;
	box-shadow: rgba(17, 17, 26, 0.1) 0px 4px 16px, rgba(17, 17, 26, 0.1)
		0px 8px 24px, rgba(17, 17, 26, 0.1) 0px 16px 56px;
	font-weight: 700;
}
/* hiện phần trăm giảm giá END*/

.custom-modal-size {
	max-width: 90%;
	width: 90%;
}
</style>
</head>

<body ng-app="app" >

	<div th:replace="~{/users/layout/_menu_index}"></div>

	<div th:replace="${view}"></div>

	<div th:replace="~{/users/layout/_footer}"></div>


	<!-- move top -->
	<script>
		// When the user scrolls down 20px from the top of the document, show the button
		window.onscroll = function() {
			scrollFunction()
		};

		function scrollFunction() {
			if (document.body.scrollTop > 20
					|| document.documentElement.scrollTop > 20) {
				document.getElementById("movetop").style.display = "block";
			} else {
				document.getElementById("movetop").style.display = "none";
			}
		}

		// When the user clicks on the button, scroll to the top of the document
		function topFunction() {
			document.body.scrollTop = 0;
			document.documentElement.scrollTop = 0;
		}
	</script>
	<!-- /move top -->
	<script src="/asset/user/js/jquery-2.1.4.min.js"></script>

	<script>
		function updateCartCount() {
			// Make an AJAX call to your API
			var count = 0
			$.ajax({
				type : 'GET',
				url : '/rest/cart', // Replace with the actual API endpoint

				data : JSON.stringify(count),
				contentType : "application/json",
				success : function(data) {
					// Update the cart count with the received data
					count = data.length
					$('#cartCount').text(count);
					console.log(data.length); // Assuming the API returns an array of cart items
				},
				error : function() {
					// Handle errors here
					console.log('Error fetching cart items.');
				}
			});
		}

		// Call the function initially to load the cart count

		// You can also set a timer to periodically update the cart count
		// setInterval(updateCartCount, 60000); // Update every minute (for example)

		$('.add-to-cart').click(function() {
			updateCartCount();
		})
		updateCartCount();
	</script>
	<script>
        function updateFavoriteCount() {
    $.ajax({
        type: 'GET',
        url: '/rest/favorites/getUserFavorite',
        contentType: "application/json",
        success: function(data) {
            // Update the cart count with the received data
            var count = data.length;
            $('#favoriteCount').text(count);
        },
        error: function() {
            // Handle errors here
            console.log('Error fetching favorite items.');
        }
    });
}

updateFavoriteCount();

		// Gọi hàm lấy số lượng yêu thích ban đầu khi trang web tải
		updateFavoriteCount();
	</script>
	<!-- -------------- -->
	<script src="/asset/user/js/bootstrap.min.js"></script>

	<!-- 	<script src="/asset/user/js/jquery-3.3.1.min.js"></script> -->
	<script src="/asset/user/js/jquery.flexslider.js"></script>
	<script src="/asset/user/js/imagezoom.js"></script>
	<script>
		$(window).load(function() {
			$('.flexslider1').flexslider({
				animation : "slide",
				controlNav : "thumbnails"
			});
		});
	</script>


	<!-- cart -->
	<script src="/asset/user/js/AngularJS/shopping-cart.js"></script>
	<script src="/asset/user/js/favorite.js"></script>
	<script src="/asset/user/js/index-ctrl.js"></script>
	<!-- cart -->

	<!-- cart -->
	<script src="/asset/user/js/AngularJS/checkout-ctrl.js"></script>
	<!-- cart -->
	<script src="/asset/user/js/AngularJS/order-ctrl.js"></script>
	<!--/login-->
	<script>
		$(document).ready(function() {
			$(".button-log a").click(function() {
				$(".overlay-login").fadeToggle(200);
				$(this).toggleClass('btn-open').toggleClass('btn-close');
			});
		});
		$('.overlay-close1').on(
				'click',
				function() {
					$(".overlay-login").fadeToggle(200);
					$(".button-log a").toggleClass('btn-open').toggleClass(
							'btn-close');
					open = false;
				});
	</script>
	<!--//login-->
	<script>
		// optional
		$('#customerhnyCarousel').carousel({
			interval : 5000
		});
	</script>
	<!-- cart-js -->
	<!-- <script src="/asset/user/js/minicart.js"></script> -->
	<script>
		transmitv.render();

		transmitv.cart.on('transmitv_checkout', function(evt) {
			var items, len, i;

			if (this.subtotal() > 0) {
				items = this.items();

				for (i = 0, len = items.length; i < len; i++) {
				}
			}
		});
	</script>
	<!-- //cart-js -->
	<!--pop-up-box-->
	<script src="/asset/user/js/jquery.magnific-popup.js"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.32/dist/sweetalert2.all.min.js"></script>
	<!--//pop-up-box-->
	<script>
		$(document).ready(function() {
			$('.popup-with-zoom-anim').magnificPopup({
				type : 'inline',
				fixedContentPos : false,
				fixedBgPos : true,
				overflowY : 'auto',
				closeBtnInside : true,
				preloader : false,
				midClick : true,
				removalDelay : 300,
				mainClass : 'my-mfp-zoom-in'
			});

		});
	</script>
	<!--//search-bar-->
	<!-- disable body scroll which navbar is in active -->
	<script>
		$(function() {
			$('.navbar-toggler').click(function() {
				$('body').toggleClass('noscroll');
			})
		});
	</script>
	<!-- disable body scroll which navbar is in active -->
	<!-- navbar scroll -->
	<script>
		window.addEventListener('scroll', function() {
			const navbar = document.querySelector('.navbar');
			const scrollY = window.scrollY;

			// Set a threshold value for when to switch the class
			const threshold = 100; // You can adjust this value

			if (scrollY > threshold) {
				navbar.classList.add('navbar-scrolled');
			} else {
				navbar.classList.remove('navbar-scrolled');
			}
		});
	</script>
	<!-- navbar scroll -->
	<!-- count cartitem -->


</body>

</html>